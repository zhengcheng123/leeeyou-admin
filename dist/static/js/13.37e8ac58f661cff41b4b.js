webpackJsonp([13],{"2cy3":function(e,t,o){t=e.exports=o("FZ+f")(!1),t.push([e.i,".login-text .el-input__inner{border:none;border-bottom:1px solid #999;border-radius:initial}.el-checkbox__input.is-indeterminate .el-checkbox__inner,.login-text .el-checkbox__input.is-checked .el-checkbox__inner{background-color:#999;border-color:#999}.login-text .el-checkbox__input.is-checked+.el-checkbox__label{color:#1b0e0e}.login-boxsha{position:relative}",""])},"79nc":function(e,t,o){var r=o("kxFB");t=e.exports=o("FZ+f")(!1),t.push([e.i,".login-box[data-v-3f1acb4b]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100vw;height:100vh;min-width:1200px!important;min-height:500px!important}.login-bg[data-v-3f1acb4b]{background:url("+r(o("Vce/"))+");background-size:100% 100%;width:70%;height:100%;background-repeat:no-repeat}.login-text[data-v-3f1acb4b]{width:36%;text-align:center;position:absolute;top:0;bottom:0;left:unset;right:0;margin:auto;padding-top:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center}.login-herder[data-v-3f1acb4b]{position:absolute;top:-100px;width:399px;height:100px;font-size:80px;font-family:Source Han Sans CN;font-weight:700;color:#ff780d;opacity:.15}.el-row i[data-v-3f1acb4b]{margin-top:3px}.lg-btn[data-v-3f1acb4b]{width:220px;height:35px;background:#ff780d;border:1px solid #ff780d;border-radius:6px;margin-top:30px;color:#fff;cursor:pointer}.version[data-v-3f1acb4b]{color:#aaa;position:absolute;bottom:8px;right:10px}.icon[data-v-3f1acb4b]{font-size:22px}.remember-me[data-v-3f1acb4b]{margin-bottom:5px}.link[data-v-3f1acb4b]{font-size:14px;color:#ff780d;text-decoration:none}h3[data-v-3f1acb4b]{width:293px;height:35px;font-size:36px;font-family:Source Han Sans CN;font-weight:700;color:#1b1b1b;margin-left:25px}.login-form[data-v-3f1acb4b]{position:relative;top:80px}",""])},"Vce/":function(e,t,o){e.exports=o.p+"static/img/bg.bc27d0b.jpeg"},XPtW:function(e,t,o){"use strict";function r(e){o("mO7s"),o("iVv0")}Object.defineProperty(t,"__esModule",{value:!0});var n=o("tGNX"),s=o("thpp"),a=o("VU/8"),i=r,l=a(n.a,s.a,!1,i,"data-v-3f1acb4b",null);t.default=l.exports},iVv0:function(e,t,o){var r=o("2cy3");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);o("rjj0")("5ba5de3e",r,!0,{})},mO7s:function(e,t,o){var r=o("79nc");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);o("rjj0")("a5503050",r,!0,{})},mvHQ:function(e,t,o){e.exports={default:o("qkKv"),__esModule:!0}},qkKv:function(e,t,o){var r=o("FeBl"),n=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},tGNX:function(e,t,o){"use strict";var r=o("mvHQ"),n=o.n(r);t.a={data:function(){return{personal:{},loginForm:{username:"",password:""},loginFormRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},isRemember:!0,version:"0.0.0"}},mounted:function(){this.getVersion(),this.setUserName()},methods:{getVersion:function(){console.log(APIHOST),this.$http.ajax({url:APIHOST+"cgi/system/getVersion",dataType:"json",context:this}).done(function(e){1===e.result?this.version=e.object:console.log({message:"获取版本号失败",type:"error"})}).fail(function(e){})},setUserName:function(){null!==localStorage.getItem("userName")&&(this.loginForm.username=localStorage.getItem("userName"))},login:function(){var e=this;this.$refs.loginForm.validate(function(t){if(t){var o=new FormData;o.append("username",e.loginForm.username),o.append("password",e.loginForm.password),e.$http.ajax({url:APIHOST+"login",type:"post",contentType:!1,processData:!1,data:o,context:e}).done(function(t){if(200===t.code){e.$message({message:"登录成功",type:"success"}),e.personal=t.data.meu.children,sessionStorage.setItem("userName",e.loginForm.username),sessionStorage.setItem("personal",n()(e.personal)),e.isRemember?localStorage.setItem("userName",e.loginForm.username):localStorage.removeItem("userName");var o=[t.data.meu.children],r=o.some(function(e){return"/index"===e.path})?"/index":o[0],s=r.map(function(e,t){return e.path});e.$router.push(s[0])}else e.$message({message:t.message,type:"error"})}).fail(function(t){e.$message({message:JSON.parse(t.responseText).message,type:"warning"})})}else e.$message({message:"登录信息填写错误",type:"error"})})}}}},thpp:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-box"},[o("div",{staticClass:"login-bg"}),e._v(" "),o("div",{staticClass:"login-text",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}}},[o("div",{staticClass:"login-boxsha"},[o("div",{staticClass:"login-herder"},[e._v("welcome")]),e._v(" "),o("h3",[e._v("乐有商城后台系统")]),e._v(" "),o("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginFormRules}},[o("el-row",{attrs:{gutter:0}},[o("el-col",{attrs:{span:16,offset:4}},[o("el-form-item",{attrs:{prop:"name"}},[o("el-input",{attrs:{placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[o("template",{slot:"prepend"})],2)],1)],1)],1),e._v(" "),o("el-row",{attrs:{gutter:0}},[o("el-col",{attrs:{span:16,offset:4}},[o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{placeholder:"密码",type:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[o("template",{slot:"prepend"})],2)],1)],1)],1),e._v(" "),o("el-row",{staticClass:"remember-me",attrs:{gutter:0}},[o("el-col",{attrs:{span:4,offset:4}},[o("el-checkbox",{model:{value:e.isRemember,callback:function(t){e.isRemember=t},expression:"isRemember"}},[e._v("记住我")])],1),e._v(" "),o("el-col",{attrs:{span:4,offset:9}})],1),e._v(" "),o("el-row",{attrs:{gutter:0}},[o("el-col",{attrs:{span:16,offset:4}},[o("el-form-item",[o("button",{staticClass:"lg-btn",attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.login(t)}}},[e._v("登录")])])],1)],1)],1)],1),e._v(" "),o("span",{staticClass:"version right"},[e._v(e._s(e.version))])])])},n=[],s={render:r,staticRenderFns:n};t.a=s}});