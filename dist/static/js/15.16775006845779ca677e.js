webpackJsonp([15],{"+z7Q":function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"coupon-add"},[o("div",{staticClass:"section-head"},[e._v("基础信息")]),e._v(" "),o("el-form",{ref:"couponPassForm",attrs:{model:e.couponPassForm,rules:e.rules,"label-width":"81px"}},[o("el-form-item",{attrs:{label:"优惠券类型：",prop:"category","label-width":"150px"}},[o("el-select",{attrs:{disabled:"",clearable:""},model:{value:e.couponPassForm.category,callback:function(t){e.$set(e.couponPassForm,"category",t)},expression:"couponPassForm.category"}},[o("el-option",{attrs:{label:"购物赠券",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"全场赠券",value:"2"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"优惠券名称：",prop:"oldPassword","label-width":"150px"}},[o("div",[e._v(e._s(e.couponPassForm.name))])]),e._v(" "),o("el-form-item",{attrs:{label:"总发放量：",prop:"oldPassword","label-width":"150px"}},[o("div",[e._v(e._s(e.couponPassForm.count))])]),e._v(" "),o("el-form-item",{attrs:{label:"面额：",prop:"oldPassword","label-width":"150px"}},[o("div",[e._v(e._s(e.couponPassForm.discountQuota)+" 元")])]),e._v(" "),o("el-form-item",{attrs:{label:"每人限领：",prop:"oldPassword","label-width":"150px"}},[[o("el-radio-group",{model:{value:e.distributeUserLimite,callback:function(t){e.distributeUserLimite=t},expression:"distributeUserLimite"}},[o("el-radio",{attrs:{label:"1",disabled:""}},[e._v("\n              每人限领  \n              "),o("el-input-number",{attrs:{disabled:"",min:1,max:10,label:"描述文字"},model:{value:e.couponPassForm.distributeUserLimite,callback:function(t){e.$set(e.couponPassForm,"distributeUserLimite",t)},expression:"couponPassForm.distributeUserLimite"}}),e._v("  张\n            ")],1),e._v(" "),o("el-radio",{attrs:{label:"2",disabled:""}},[e._v("\n              每人每日限领  \n              "),o("el-input-number",{attrs:{disabled:"",min:1,max:10,label:"描述文字"},model:{value:e.couponPassForm.distributeDayLimite,callback:function(t){e.$set(e.couponPassForm,"distributeDayLimite",t)},expression:"couponPassForm.distributeDayLimite"}}),e._v("  张\n            ")],1)],1)]],2),e._v(" "),o("div",{staticClass:"section-head"},[e._v("发放规则")]),e._v(" "),o("el-form-item",{attrs:{label:"发放时间：",prop:"distributeArr","label-width":"150px"}},[o("el-date-picker",{attrs:{disabled:"","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.distributeArr,callback:function(t){e.distributeArr=t},expression:"distributeArr"}})],1),e._v(" "),"1"===e.couponPassForm.category?o("el-form-item",{attrs:{label:"发放方式：",prop:"oldPassword","label-width":"150px"}},[[o("el-radio-group",{attrs:{disabled:""},model:{value:e.couponPassForm.distributeType,callback:function(t){e.$set(e.couponPassForm,"distributeType",t)},expression:"couponPassForm.distributeType"}},[o("el-radio",{attrs:{label:"1"}},[e._v("指定商品消费")]),e._v(" "),o("el-radio",{attrs:{label:"2"},on:{change:function(t){return e.changeMoney()}}},[e._v("消费满金额发放")])],1)]],2):e._e(),e._v(" "),"1"===e.couponPassForm.distributeType?o("el-form-item",{attrs:{label:"添加商品：",prop:"oldPassword","label-width":"150px"}},[o("div",{staticClass:"store-choose"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.distribute,"header-cell-style":{background:"#E8EAEE",height:"48px"}}},[o("el-table-column",{attrs:{align:"center","min-width":"100",prop:"goodsName",label:"商品名称"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","min-width":"120",prop:"goodsState",label:"销售状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.goodsState?o("span",[e._v("上架")]):e._e(),e._v(" "),2===t.row.goodsState?o("span",[e._v("下架")]):e._e()]}}],null,!1,3064873174)})],1),e._v(" "),o("el-pagination",{staticClass:"pagination",attrs:{"page-sizes":[15,30,50,100],"page-size":e.conditionForm.page.pageSize,"current-page":e.conditionForm.page.pageNum,layout:"total, sizes,prev, pager, next, jumper",total:e.conditionForm.page.total},on:{"size-change":function(t){return e.pageSize(t,1)},"current-change":function(t){return e.pageNo(t,1)}}})],1)]):e._e(),e._v(" "),"2"===e.couponPassForm.distributeType?o("el-form-item",{attrs:{label:"消费金额满",prop:"oldPassword","label-width":"150px"}},[o("el-input",{attrs:{disabled:""},model:{value:e.couponPassForm.distributeBase,callback:function(t){e.$set(e.couponPassForm,"distributeBase",t)},expression:"couponPassForm.distributeBase"}},[o("template",{slot:"append"},[e._v("元")])],2)],1):e._e(),e._v(" "),o("div",{staticClass:"section-head"},[e._v("使用规则")]),e._v(" "),o("el-form-item",{attrs:{label:"使用门槛：",prop:"oldPassword","label-width":"150px"}},[[o("el-radio-group",{attrs:{disabled:""},model:{value:e.expire,callback:function(t){e.expire=t},expression:"expire"}},[o("el-radio",{attrs:{label:"1"}},[e._v("无限制")]),e._v(" "),o("el-radio",{attrs:{label:"2"}},[e._v("\n              满  \n              "),o("el-input",{staticStyle:{"margin-top":"-12px"},attrs:{disabled:""},model:{value:e.couponPassForm.discountBase,callback:function(t){e.$set(e.couponPassForm,"discountBase",t)},expression:"couponPassForm.discountBase"}},[o("template",{slot:"append"},[e._v("元")])],2)],1)],1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"卷有效期：",prop:"oldPassword","label-width":"150px"}},[o("el-radio-group",{attrs:{disabled:""},model:{value:e.couponPassForm.expirePeriod,callback:function(t){e.$set(e.couponPassForm,"expirePeriod",t)},expression:"couponPassForm.expirePeriod"}},[o("el-radio",{attrs:{label:"2"}},[e._v("日期范围")]),e._v(" "),o("el-date-picker",{attrs:{disabled:"","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.couponPassForm.expireArr,callback:function(t){e.$set(e.couponPassForm,"expireArr",t)},expression:"couponPassForm.expireArr"}}),e._v(" "),o("el-radio",{attrs:{label:"1"}},[e._v("固定天数")]),e._v(" "),o("el-input",{attrs:{disabled:""},model:{value:e.couponPassForm.expireGap,callback:function(t){e.$set(e.couponPassForm,"expireGap",t)},expression:"couponPassForm.expireGap"}},[o("template",{slot:"append"},[e._v("天")])],2)],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"是否可与其他优惠同享：",prop:"oldPassword","label-width":"180px"}},[o("el-radio-group",{attrs:{disabled:""},model:{value:e.available,callback:function(t){e.available=t},expression:"available"}},[o("el-radio",{attrs:{label:"1"}},[e._v("不可同时使用")])],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"可使用商品：",prop:"oldPassword","label-width":"150px"}},[o("el-radio-group",{attrs:{disabled:""},model:{value:e.couponPassForm.useType,callback:function(t){e.$set(e.couponPassForm,"useType",t)},expression:"couponPassForm.useType"}},[o("el-radio",{attrs:{label:"1"}},[e._v("全场通用")]),e._v(" "),o("el-radio",{attrs:{label:"2"}},[e._v("指定商品")]),e._v(" "),o("el-radio",{attrs:{label:"3"}},[e._v("指定分类")])],1)],1),e._v(" "),"2"==e.couponPassForm.useType?o("el-form-item",{attrs:{label:"添加商品：",prop:"oldPassword","label-width":"150px"}},[o("div",{staticClass:"store-choose"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.storItems,"header-cell-style":{background:"#E8EAEE",height:"48px"}}},[o("el-table-column",{attrs:{align:"center","min-width":"100",prop:"goodsName",label:"商品名称"}}),e._v(" "),o("el-table-column",{attrs:{align:"center","min-width":"120",prop:"goodsState",label:"销售状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.goodsState?o("span",[e._v("上架")]):e._e(),e._v(" "),2===t.row.goodsState?o("span",[e._v("下架")]):e._e()]}}],null,!1,3064873174)})],1)],1)]):e._e(),e._v(" "),"3"==e.couponPassForm.useType?o("el-form-item",{attrs:{label:"选择分类",prop:"oldPassword","label-width":"150px"}},[o("div",{staticClass:"store-choose"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.usegood,"header-cell-style":{background:"#E8EAEE",height:"48px"}}},[o("el-table-column",{attrs:{align:"center","min-width":"100",prop:"typeName",label:"分类名称"}})],1),e._v(" "),o("el-pagination",{staticClass:"pagination",attrs:{"page-sizes":[15,30,50,100],"page-size":e.params.page.pageSize,"current-page":e.params.page.pageNum,layout:"total, sizes,prev, pager, next, jumper",total:e.params.page.total},on:{"size-change":function(t){return e.pageSize(t,2)},"current-change":function(t){return e.pageNo(t,2)}}})],1)]):e._e(),e._v(" "),o("el-form-item",{attrs:{label:"备注：",prop:"oldPassword","label-width":"150px"}},[o("div",{staticStyle:{width:"550px"},attrs:{cols:"30",rows:"5"}},[e._v(e._s(e.couponPassForm.intro))])])],1),e._v(" "),o("div",{staticClass:"footer"},[o("el-button",{attrs:{type:"info"},on:{click:e.backList}},[e._v("返 回")])],1)],1)])},s=[],r={render:a,staticRenderFns:s};t.a=r},"2gNr":function(e,t,o){var a=o("XxUd");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o("rjj0")("22d30394",a,!0,{})},Cdx3:function(e,t,o){var a=o("sB3e"),s=o("lktj");o("uqUo")("keys",function(){return function(e){return s(a(e))}})},XxUd:function(e,t,o){t=e.exports=o("FZ+f")(!1),t.push([e.i,".coupon-add[data-v-4c06684f]{border-radius:3px;background-color:#fff;width:100%}.section-head[data-v-4c06684f]{width:auto;position:relative;background-color:#f5f7fb;font-weight:600;height:40px;line-height:40px;padding-left:48px;margin-bottom:10px}[data-v-4c06684f] .el-input--small .el-input__inner{width:210px}.el-input-group__append[data-v-4c06684f],[data-v-4c06684f] .el-form-item__content .el-input-group,[data-v-4c06684f] .el-input-group--prepend .el-input__inner{width:200px}[data-v-4c06684f] .input-with-select .el-input-group__prepend{background-color:#fff}.footer[data-v-4c06684f]{text-align:center;height:65px}",""])},fZjL:function(e,t,o){e.exports={default:o("jFbC"),__esModule:!0}},jFbC:function(e,t,o){o("Cdx3"),e.exports=o("FeBl").Object.keys},jMDN:function(e,t,o){"use strict";var a=o("fZjL"),s=o.n(a);t.a={data:function(){return{available:"1",expire:"",distribute:[],usegood:[],dateRange:"",distributeUserLimite:"1",currentItems:[],storItems:[],commonTypes:[],distributeArr:[],couponPassForm:{category:"1",code:"",count:"",createTime:"",discountBase:"",discountQuota:"",distributeBase:0,distributeCount:"",distributeDayLimite:"",distributeEnd:"",distributeGoods:[],expireArr:[],distributeType:"",distributeUserLimite:"1",expireCount:"",expireEnd:"",expireGap:"",expirePeriod:"",expireStart:"",expired:!0,id:"",intro:"",logo:"",name:"",productline:"",storeId:0,useCount:0,useGoods:[],useType:"",userId:0,weight:0},rules:{},Id:this.$route.query.id,conditionForm:{condition:{name:"",type:null,state:"",recommend:""},page:{pageSize:15,pageNum:1,total:0,sortname:"id",sortorder:"desc"}},params:{condition:{name:"",type:null,state:"",recommend:""},page:{pageSize:15,pageNum:1,total:0,sortname:"id",sortorder:"desc"}}}},mounted:function(){this.getDetail()},methods:{getDetail:function(){var e=this;this.$axios.get(globalConfig.server1+"couponTemplate/get/"+this.Id).then(function(t){1===t.data.result?(e.couponPassForm=t.data.object,e.distribute=t.data.object.distributeGoods,e.usegood=t.data.object.useGoods,e.storItems=t.data.object.useGoods,e.couponPassForm.distributeBase=e.couponPassForm.distributeBase/100,e.couponPassForm.discountQuota=e.couponPassForm.discountQuota/100,e.couponPassForm.discountBase=e.couponPassForm.discountBase/100,e.couponPassForm.distributeBase=e.couponPassForm.distributeBase+"",e.couponPassForm.distributeType=e.couponPassForm.distributeType+"",e.couponPassForm.expirePeriod=e.couponPassForm.expirePeriod+"",e.couponPassForm.useType=e.couponPassForm.useType+"",e.couponPassForm.category=e.couponPassForm.category+"",0===e.couponPassForm.discountBase?e.expire="1":e.expire="2",0!=e.couponPassForm.expireArr?e.dateRange="1":e.dateRange="2",e.distributeArr=[t.data.object.distributeStart,t.data.object.distributeEnd],e.couponPassForm.expireArr=[t.data.object.expireStart,t.data.object.expireEnd]):console.error("res.data.rbg")})},getNewObject:function(e,t,o,a){var r=s()(e);return a.map(function(a){var s={};r.forEach(function(t){s[t]=e[t]});for(var i=0;i<t.length;i++)s[o[i]]=a[t[i]];return s})},pageSize:function(e,t){this.conditionForm.page.pageSize=e,this.getItems(t)},pageNo:function(e,t){this.conditionForm.page.pageNum=e,this.getItems(t)},backList:function(){this.$router.go(-1)}}}},uqUo:function(e,t,o){var a=o("kM2E"),s=o("FeBl"),r=o("S82l");e.exports=function(e,t){var o=(s.Object||{})[e]||Object[e],i={};i[e]=t(o),a(a.S+a.F*r(function(){o(1)}),"Object",i)}},wDJH:function(e,t,o){"use strict";function a(e){o("2gNr")}Object.defineProperty(t,"__esModule",{value:!0});var s=o("jMDN"),r=o("+z7Q"),i=o("VU/8"),l=a,n=i(s.a,r.a,!1,l,"data-v-4c06684f",null);t.default=n.exports}});